<!-- idle_game.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Idle Game</title>
</head>
<body>
  <h1>Welcome to Your Idle Game!</h1>
  <p>If you see this, youâ€™re logged in with Auth0.</p>

  <!-- 1) A place to display the user's name -->
  <h2 id="welcomeMessage">Loading your data...</h2>

  <!-- 2) Script to fetch /api/me and show nickname -->
  <script>
    fetch("/api/me")
      .then(res => res.json())
      .then(data => {
        if (data.error) {
          document.getElementById("welcomeMessage").textContent = "Error: " + data.error;
        } else {
          // e.g. "Hello, Bob!"
          document.getElementById("welcomeMessage").textContent = `Hello, ${data.nickname}!`;
        }
      })
      .catch(err => {
        console.error("Error fetching user data:", err);
        document.getElementById("welcomeMessage").textContent = "Error loading data";
      });
  </script>
</body>
</html>
